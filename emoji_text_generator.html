<!DOCTYPE html>
<html>
<head>
  <title>chemecse.io</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="l-container">
    <a href="./index.html"><h3>chemecse</h3></a>
  </div>
  <div class="divider"></div>
  <div class="l-container">
    <h2>Emoji Text Generator</h2>
    <div class="l-flex-vertical">
      <div style="margin: 12px 0">
        <div>
          <label for="foreground-emoji">Foreground emoji:</label>
          <input type="text" id="foreground-emoji">
        </div>
        <div>
          <label for="background-emoji">Background emoji:</label>
          <input type="text" id="background-emoji">
        </div>
        <label for="input-text">Text:</label>
        <input type="text" id="input-text">
      </div>
      <div>
        <button type="button" id="generate-button">Generate!</button>
      </div>
      <div style="margin: 12px 0">
        <p>Generated emoji text:</p>
        <textarea id="generated-emoji-text" style="width: 600px; height: 152px" readonly /></textarea>
      </div>
    </div>
  </div>
  <div class="divider"></div>
  <div class="l-container">
    <h5>lars hamre</h5>
    <div class="contact">
      <a href="mailto:chemecse@gmail.com"><p class="selectable">chemecse@gmail.com</p></a>
    </div>
    <div class="contact">
      <a href="https://twitter.com/chemecse">
        <span class="icon">
          <svg viewBox="0 0 12 12">
            <path d="M12 6c0 3.315-2.685 6-6 6S0 9.315 0 6s2.685-6 6-6 6 2.685 6 6zM4.902 9.165c2.661 0 4.116-2.205 4.116-4.116 0-.063 0-.126-.003-.186.282-.204.528-.459.723-.75a2.936 2.936 0 0 1-.831.228c.3-.18.528-.462.636-.801a2.93 2.93 0 0 1-.918.351 1.447 1.447 0 0 0-2.463 1.32A4.104 4.104 0 0 1 3.18 3.699a1.44 1.44 0 0 0 .45 1.929 1.421 1.421 0 0 1-.654-.18v.018c0 .702.498 1.284 1.161 1.419a1.442 1.442 0 0 1-.654.024c.183.576.717.993 1.35 1.005a2.908 2.908 0 0 1-2.142.597 4.03 4.03 0 0 0 2.211.654"/>
          </svg>
        </span>
        <p class="l-inline selectable">@chemecse</p>
      </a>
    </div>
    <div class="contact">
      <a href="https://github.com/chemecse">
        <span class="icon">
          <svg viewBox="0 0 12 12">
            <path d="M5.999 0A6 6 0 0 0 0 6c0 2.651 1.719 4.9 4.103 5.694.3.054.41-.131.41-.29 0-.142-.005-.52-.008-1.02-1.669.362-2.021-.805-2.021-.805-.273-.693-.667-.877-.667-.877-.544-.372.042-.365.042-.365.602.043.919.618.919.618.535.917 1.404.652 1.746.499.054-.388.209-.652.381-.802-1.333-.152-2.733-.666-2.733-2.966 0-.655.234-1.19.617-1.61-.061-.151-.267-.761.059-1.588 0 0 .504-.161 1.65.616A5.74 5.74 0 0 1 6 2.902a5.74 5.74 0 0 1 1.502.202c1.146-.777 1.649-.616 1.649-.616.327.827.121 1.437.059 1.588.385.42.617.955.617 1.61 0 2.305-1.403 2.813-2.739 2.961.215.185.407.551.407 1.111 0 .802-.007 1.449-.007 1.646 0 .161.107.347.412.289A6 6 0 0 0 5.999 0"/>
          </svg>
        </span>
        <p class="l-inline selectable">chemecse</p>
      </a>
    </div>
  </div>
  <script type="text/javascript">
    const fontHeight = 5;

    const font = {
      'a': [
        '0110',
        '1001',
        '1111',
        '1001',
        '1001'
      ],
      'b': [
        '1110',
        '1001',
        '1111',
        '1001',
        '1110'
      ],
      'c': [
        '0110',
        '1001',
        '1000',
        '1001',
        '0110'
      ],
      'd': [
        '1110',
        '1001',
        '1001',
        '1001',
        '1110'
      ],
      'e': [
        '1111',
        '1000',
        '1111',
        '1000',
        '1111'
      ],
      'f': [
        '1111',
        '1000',
        '1111',
        '1000',
        '1000'
      ],
      'h': [
        '1001',
        '1001',
        '1111',
        '1001',
        '1001'
      ],
      'i': [
        '1',
        '1',
        '1',
        '1',
        '1'
      ],
      'j': [
        '0001',
        '0001',
        '0001',
        '1001',
        '0110'
      ],
      'k': [
        '1001',
        '1010',
        '1100',
        '1010',
        '1001'
      ],
      'l': [
        '1000',
        '1000',
        '1000',
        '1000',
        '1111'
      ],
      'm': [
        '10001',
        '11011',
        '10101',
        '10001',
        '10001'
      ],
      'n': [
        '10001',
        '11001',
        '10101',
        '10011',
        '10001'
      ],
      'o': [
        '0110',
        '1001',
        '1001',
        '1001',
        '0110'
      ],
      'p': [
        '1110',
        '1001',
        '1110',
        '1000',
        '1000'
      ],
      'q': [
        '0110',
        '1001',
        '1001',
        '0110',
        '0001'
      ],
      'r': [
        '1110',
        '1001',
        '1110',
        '1010',
        '1001'
      ],
      's': [
        '0111',
        '1000',
        '0110',
        '0001',
        '1110'
      ],
      't': [
        '111',
        '010',
        '010',
        '010',
        '010'
      ],
      'u': [
        '1001',
        '1001',
        '1001',
        '1001',
        '0110'
      ],
      'v': [
        '10001',
        '10001',
        '01010',
        '01010',
        '00100'
      ],
      'w': [
        '10001',
        '10101',
        '10101',
        '10101',
        '01010'
      ],
      'x': [
        '10001',
        '01010',
        '00100',
        '01010',
        '10001'
      ],
      'y': [
        '10001',
        '01010',
        '00100',
        '00100',
        '00100'
      ],
      'z': [
        '111',
        '001',
        '010',
        '100',
        '111'
      ]
    };

    function clearInputFields() {
      document.getElementById('foreground-emoji').value = 'üï∞Ô∏è';
      document.getElementById('background-emoji').value = 'üéâ';
      document.getElementById('input-text').value = '';
      document.getElementById('generated-emoji-text').value = '';
    }

    function emojiFromBinary(binaryString, foregroundEmoji, backgroundEmoji) {
      let emojiString = '';
      for (let i = 0, iLen = binaryString.length; i < iLen; ++i) {
        emojiString += (binaryString[i] === '1') ? foregroundEmoji : backgroundEmoji;
      }
      return emojiString;
    }

    function generateEmojiText() {
      const foregroundEmoji = document.getElementById('foreground-emoji').value;
      const backgroundEmoji = document.getElementById('background-emoji').value;
      const inputText = document.getElementById('input-text').value;

      let text = '';
      let textWidth;
      for (let i = 0, iLen = fontHeight; i < iLen; ++i) {
        textWidth = 0;
        for (let j = 0, jLen = inputText.length; j < jLen; ++j) {
          const fontIndex = inputText[j].toLowerCase();
          const fontCharacter = font[fontIndex];
          if (!fontCharacter) continue;
          const binaryString = `0${fontCharacter[i]}0`;
          textWidth += binaryString.length;
          text += emojiFromBinary(binaryString, foregroundEmoji, backgroundEmoji);
        }
        text += '\n';
      }

      const emptyLine = backgroundEmoji.repeat(textWidth);
      text = `${emptyLine}\n${text}${emptyLine}`;

      console.log(text);

      const generatedEmoijTextElement = document.getElementById('generated-emoji-text');
      generatedEmoijTextElement.value = text;
    }

    clearInputFields();

    const generateButton = document.getElementById('generate-button');
    generateButton.addEventListener('click', generateEmojiText);
  </script>
</body>
</html>
